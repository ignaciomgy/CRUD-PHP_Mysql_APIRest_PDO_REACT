{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\apiphpReact\\\\crudmoviecenter\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Modal, ModalBody, ModalFolder, ModalHeader, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\n\nfunction App() {\n  const baseUrl = \"http://localhost/apiphp/\";\n  const [data, setData] = useState([]);\n  const [modalInsert, setModalInsert] = useState(false);\n  const [modalEdit, setModalEdit] = useState(false);\n  const [modalDelete, setModalDelete] = useState(false);\n\n  const opencloseInsertModal = () => {\n    setModalInsert(!modalInsert);\n  };\n\n  const opencloseEditModal = () => {\n    setModalEdit(!modalEdit);\n  };\n\n  const opencloseDeleteModal = () => {\n    setModalDelete(!modalDelete);\n  };\n\n  const [selectedMovie, setSelectedMovie] = useState({\n    name: '',\n    year: '',\n    director: ''\n  });\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setSelectedMovie(prevState => ({ ...prevState,\n      [name]: value\n    }));\n    console.log(selectedMovie);\n  };\n\n  const getrequest = async () => {\n    await axios.get(baseUrl).then(response => {\n      setData(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const postrequest = async () => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"POST\");\n    await axios.post(baseUrl, f).then(response => {\n      setData(data.concat(response.data));\n      opencloseInsertModal();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const putrequest = async () => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"PUT\");\n    await axios.post(baseUrl, f, {\n      params: {\n        id: selectedMovie.id\n      }\n    }).then(response => {\n      var nuevaData = data;\n      nuevaData.map(movie => {\n        if (movie.id === selectedMovie.id) {\n          movie.name = selectedMovie.name;\n          movie.year = selectedMovie.year;\n          movie.director = selectedMovie.director;\n        } else {\n          movie.name = \"default\";\n          movie.year = \"2222\";\n          movie.director = \"default\";\n        }\n      });\n      setData(nuevaData);\n      opencloseEditModal();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const deleterequest = async () => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"DELETE\");\n    await axios.post(baseUrl, f, {\n      params: {\n        id: selectMovie.id\n      }\n    }).then(response => {\n      setData(data.filter(movie => movie.id !== selectedMovie.id));\n      opencloseDeleteModal();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const selectMovie = (movie, caseSelected) => {\n    setSelectedMovie(movie);\n    caseSelected === \"Edit\" ? opencloseEditModal() : opencloseDeleteModal();\n  };\n\n  useEffect(() => {\n    getrequest();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    onClick: () => opencloseInsertModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, \"Insert New Movie\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-striped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"Director\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, data.map(movie => /*#__PURE__*/React.createElement(\"tr\", {\n    key: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, movie.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, movie.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, movie.year), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, movie.director), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: selectMovie(movie, \"Edit\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, \"Edit\"), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: selectMovie(movie, \"Delete\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, \"Delete\")))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalInsert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"New Movie\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"Name \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"name\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"Year \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"year\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, \"Director \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"director\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => postrequest(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"Insert\"), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => opencloseInsertModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, \"Edit Movie\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, \"Name \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"name\",\n    onChange: handleChange,\n    value: selectedMovie && selectedMovie.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"Year \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"year\",\n    onChange: handleChange,\n    value: selectedMovie && selectedMovie.year,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, \"Director \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"director\",\n    onChange: handleChange,\n    value: selectedMovie && selectedMovie.director,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => putrequest(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, \"Edit \"), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => opencloseEditModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, \"Delete \", selectedMovie && selectedMovie.name, \" ?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => deleterequest(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, \"Yes\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: () => opencloseDeleteModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, \"No\"))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/xampp/htdocs/apiphpReact/crudmoviecenter/src/App.js"],"names":["React","useState","useEffect","Modal","ModalBody","ModalFolder","ModalHeader","ModalFooter","axios","App","baseUrl","data","setData","modalInsert","setModalInsert","modalEdit","setModalEdit","modalDelete","setModalDelete","opencloseInsertModal","opencloseEditModal","opencloseDeleteModal","selectedMovie","setSelectedMovie","name","year","director","handleChange","e","value","target","prevState","console","log","getrequest","get","then","response","catch","error","postrequest","f","FormData","append","post","concat","putrequest","params","id","nuevaData","map","movie","deleterequest","selectMovie","filter","caseSelected"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalBody, ModalFolder, ModalHeader, ModalFooter} from 'reactstrap';\nimport axios from 'axios';\n\nfunction App() {\n\n  const baseUrl = \"http://localhost/apiphp/\";\n  const[data, setData] = useState([]);\n  const [modalInsert, setModalInsert] = useState(false);\n  const [modalEdit, setModalEdit] = useState(false);\n  const [modalDelete, setModalDelete] = useState(false);\n\n  const opencloseInsertModal=()=>{\n    setModalInsert(!modalInsert);\n  }\n\n  const opencloseEditModal=()=>{\n    setModalEdit(!modalEdit);\n  }\n\n  const opencloseDeleteModal=()=>{\n    setModalDelete(!modalDelete);\n  }\n  \n  const [selectedMovie, setSelectedMovie] = useState({\n    name: '',\n    year: '',\n    director: ''\n  });\n\n  const handleChange=e=>{\n    const {name, value} = e.target;\n    setSelectedMovie((prevState)=>({\n      ...prevState,\n      [name]: value\n    }))\n    console.log(selectedMovie);\n  }\n\n  const getrequest = async() => {\n    await axios.get(baseUrl)\n    .then(response=>{\n      setData(response.data);\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const postrequest = async() => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"POST\");\n\n    await axios.post(baseUrl, f)\n    .then(response=>{\n      setData(data.concat(response.data));\n      opencloseInsertModal();\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const putrequest = async() => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"PUT\");\n    await axios.post(baseUrl, f, {params: {id: selectedMovie.id}})\n    .then(response=>{\n      var nuevaData= data;\n      nuevaData.map((movie) => {\n        if(movie.id === selectedMovie.id){\n          movie.name = selectedMovie.name;\n          movie.year = selectedMovie.year;\n          movie.director = selectedMovie.director;\n        } else {\n          movie.name = \"default\";\n          movie.year = \"2222\";\n          movie.director = \"default\";\n        }\n      });\n      setData(nuevaData);\n      opencloseEditModal();\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n  const deleterequest = async() => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"DELETE\");\n\n    await axios.post(baseUrl, f, {params: {id: selectMovie.id}})\n    .then(response=>{\n      setData(data.filter(movie=>movie.id!==selectedMovie.id));\n      opencloseDeleteModal();\n    }).catch(error=>{\n      console.log(error);\n    })\n  }\n\n\n  const selectMovie=(movie, caseSelected)=>{\n    setSelectedMovie(movie);\n    (caseSelected===\"Edit\") ?\n    opencloseEditModal():\n    opencloseDeleteModal();\n  }\n\n  useEffect(()=>{\n    getrequest();\n  },[])\n\n\n  return (\n    <div>\n      <br />\n      <button className=\"btn btn-success\" onClick={()=>opencloseInsertModal()}>Insert New Movie</button>\n      <br /><br />\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Id</th>\n            <th>Name</th>\n            <th>Year</th>\n            <th>Director</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map(movie=>(\n              <tr key={movie.id}>\n                <td>{movie.id}</td>\n                <td>{movie.name}</td>\n                <td>{movie.year}</td>\n                <td>{movie.director}</td>\n                <td>\n                  <button className=\"btn btn-primary\" onClick={selectMovie(movie, \"Edit\")}>Edit</button> {\" \"}\n                  <button className=\"btn btn-danger\" onClick={selectMovie(movie, \"Delete\")}>Delete</button>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n\n      <Modal isOpen={modalInsert}>\n        <ModalHeader>\n          New Movie\n        </ModalHeader>\n        <ModalBody>\n          <label>Name </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"name\" onChange={handleChange} />\n          <label>Year </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"year\" onChange={handleChange} />\n          <label>Director </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"director\" onChange={handleChange} />\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>postrequest()} >Insert</button> {\" \"}\n          <button className=\"btn btn-danger\" onClick={()=>opencloseInsertModal()}>Cancel</button>\n        </ModalFooter>\n\n      </Modal>\n\n\n      <Modal isOpen={modalEdit}>\n        <ModalHeader>\n          Edit Movie\n        </ModalHeader>\n        <ModalBody>\n          <label>Name </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"name\" onChange={handleChange} value={selectedMovie && selectedMovie.name} />\n          <label>Year </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"year\" onChange={handleChange} value={selectedMovie && selectedMovie.year} />\n          <label>Director </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"director\" onChange={handleChange} value={selectedMovie && selectedMovie.director} />\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>putrequest()} >Edit </button> {\" \"}\n          <button className=\"btn btn-danger\" onClick={()=>opencloseEditModal()}>Cancel</button>\n        </ModalFooter>\n      </Modal>\n\n      <Modal isOpen={modalDelete}>\n        <ModalBody>\n            Delete {selectedMovie && selectedMovie.name} ?\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-danger\" onClick={()=>deleterequest()} >Yes</button>\n          <button className=\"btn btn-secondary\" onClick={()=>opencloseDeleteModal()}>No</button>\n        </ModalFooter>\n      </Modal>\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}