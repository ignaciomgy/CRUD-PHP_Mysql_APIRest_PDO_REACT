{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\apiphpReact\\\\crudmoviecenter\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Modal, ModalBody, ModalFolder, ModalHeader, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\n\nfunction App() {\n  const baseUrl = \"http://localhost/apiphp/\";\n  const [data, setData] = useState([]);\n  const [modalInsert, setModalInsert] = useState(false);\n  const [modalEdit, setModalEdit] = useState(false);\n\n  const opencloseInsertModal = () => {\n    setModalInsert(!modalInsert);\n  };\n\n  const opencloseEditModal = () => {\n    setModalEdit(!modalEdit);\n  };\n\n  const [selectedMovie, setSelectedMovie] = useState({\n    name: '',\n    year: '',\n    director: ''\n  });\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setSelectedMovie(prevState => ({ ...prevState,\n      [name]: value\n    }));\n    console.log(selectedMovie);\n  };\n\n  const getrequest = async () => {\n    await axios.get(baseUrl).then(response => {\n      setData(response.data);\n    });\n  };\n\n  const postrequest = async () => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"POST\");\n    await axios.post(baseUrl, f).then(response => {\n      setData(data.concat(response.data));\n      opencloseInsertModal();\n    });\n  };\n\n  const putrequest = async () => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"PUT\");\n    await axios.post(baseUrl, f, {\n      params: {\n        id: movie.id\n      }\n    }).then(response => {\n      var newData = data;\n      newData.map(movie => {\n        if (movie.id === selectMovie.id) {\n          movie.name = selectMovie.name;\n          movie.year = selectMovie.year;\n          movie.director = selectMovie.director;\n        }\n      });\n      setData(newData);\n      opencloseEditModal();\n    });\n  };\n\n  const selectMovie = (movie, caseSelected) => {\n    setSelectedMovie(movie);\n    caseSelected === \"Edit\" ? opencloseEditModal() : null;\n  };\n\n  useEffect(() => {\n    getrequest();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    onClick: () => opencloseInsertModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Insert New Movie\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-striped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Director\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, data.map(movie => /*#__PURE__*/React.createElement(\"tr\", {\n    key: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, movie.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, movie.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, movie.year), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, movie.director), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: selectMovie(movie, \"Edit\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Editar\"), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, \"Eliminar\")))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalInsert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, \"New Movie\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"Name \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"name\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, \"Year \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"year\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Director \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"director\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => postrequest(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, \"Insert\"), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => opencloseInsertModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, \"Edit Movie\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, \"Name \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"name\",\n    onChange: handleChange,\n    value: selectedMovie && selectedMovie.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, \"Year \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"year\",\n    onChange: handleChange,\n    value: selectedMovie && selectedMovie.year,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, \"Director \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 35\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"director\",\n    onChange: handleChange,\n    value: selectedMovie && selectedMovie.director,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => putrequest(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, \"Edit \"), \" \", \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: () => opencloseEditModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, \"Delete \", movie && selectedMovie.name, \" ?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/xampp/htdocs/apiphpReact/crudmoviecenter/src/App.js"],"names":["React","useState","useEffect","Modal","ModalBody","ModalFolder","ModalHeader","ModalFooter","axios","App","baseUrl","data","setData","modalInsert","setModalInsert","modalEdit","setModalEdit","opencloseInsertModal","opencloseEditModal","selectedMovie","setSelectedMovie","name","year","director","handleChange","e","value","target","prevState","console","log","getrequest","get","then","response","postrequest","f","FormData","append","post","concat","putrequest","params","id","movie","newData","map","selectMovie","caseSelected"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalBody, ModalFolder, ModalHeader, ModalFooter} from 'reactstrap';\nimport axios from 'axios';\n\nfunction App() {\n\n  const baseUrl = \"http://localhost/apiphp/\";\n  const[data, setData] = useState([]);\n  const [modalInsert, setModalInsert] = useState(false);\n  const [modalEdit, setModalEdit] = useState(false);\n\n  const opencloseInsertModal=()=>{\n    setModalInsert(!modalInsert);\n  }\n\n  const opencloseEditModal=()=>{\n    setModalEdit(!modalEdit);\n  }\n\n\n  const [selectedMovie, setSelectedMovie] = useState({\n    name: '',\n    year: '',\n    director: ''\n  });\n\n  const handleChange=e=>{\n    const {name, value} = e.target;\n    setSelectedMovie((prevState)=>({\n      ...prevState,\n      [name]: value\n    }))\n    console.log(selectedMovie);\n  }\n\n  const getrequest = async() => {\n    await axios.get(baseUrl)\n    .then(response=>{\n      setData(response.data);\n    })\n  }\n\n  const postrequest = async() => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"POST\");\n\n    await axios.post(baseUrl, f)\n    .then(response=>{\n      setData(data.concat(response.data));\n      opencloseInsertModal();\n    })\n  }\n\n  const putrequest = async() => {\n    var f = new FormData();\n    f.append(\"name\", selectedMovie.name);\n    f.append(\"year\", selectedMovie.year);\n    f.append(\"director\", selectedMovie.director);\n    f.append(\"METHOD\", \"PUT\");\n\n    await axios.post(baseUrl, f, {params: {id: movie.id}})\n    .then(response=>{\n      var newData = data;\n      newData.map(movie=>{\n        if(movie.id===selectMovie.id){\n          movie.name = selectMovie.name;\n          movie.year = selectMovie.year;\n          movie.director = selectMovie.director;\n        }\n      })\n      setData(newData);\n      opencloseEditModal();\n    })\n  }\n\n\n  const selectMovie=(movie, caseSelected)=>{\n    setSelectedMovie(movie);\n    (caseSelected===\"Edit\") ?\n    opencloseEditModal()\n    :null\n  }\n\n  useEffect(()=>{\n    getrequest();\n  },[])\n\n\n  return (\n    <div>\n      <br />\n      <button className=\"btn btn-success\" onClick={()=>opencloseInsertModal()}>Insert New Movie</button>\n      <br /><br />\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Id</th>\n            <th>Nombre</th>\n            <th>Year</th>\n            <th>Director</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map(movie=>(\n              <tr key={movie.id}>\n                <td>{movie.id}</td>\n                <td>{movie.name}</td>\n                <td>{movie.year}</td>\n                <td>{movie.director}</td>\n                <td>\n                  <button className=\"btn btn-primary\" onClick={selectMovie(movie, \"Edit\")}>Editar</button> {\" \"}\n                  <button className=\"btn btn-danger\">Eliminar</button>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n\n      <Modal isOpen={modalInsert}>\n        <ModalHeader>\n          New Movie\n        </ModalHeader>\n        <ModalBody>\n          <label>Name </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"name\" onChange={handleChange} />\n          <label>Year </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"year\" onChange={handleChange} />\n          <label>Director </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"director\" onChange={handleChange} />\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>postrequest()} >Insert</button> {\" \"}\n          <button className=\"btn btn-danger\" onClick={()=>opencloseInsertModal()}>Cancel</button>\n        </ModalFooter>\n\n      </Modal>\n\n\n      <Modal isOpen={modalEdit}>\n        <ModalHeader>\n          Edit Movie\n        </ModalHeader>\n        <ModalBody>\n          <label>Name </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"name\" onChange={handleChange} value={selectedMovie && selectedMovie.name} />\n          <label>Year </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"year\" onChange={handleChange} value={selectedMovie && selectedMovie.year} />\n          <label>Director </label><br />\n            <input type=\"text\" className=\"form-control\" name=\"director\" onChange={handleChange} value={selectedMovie && selectedMovie.director} />\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-primary\" onClick={()=>putrequest()} >Edit </button> {\" \"}\n          <button className=\"btn btn-danger\" onClick={()=>opencloseEditModal()}>Cancel</button>\n        </ModalFooter>\n      </Modal>\n\n      <Modal>\n        <ModalBody>\n            Delete {movie && selectedMovie.name} ?\n        </ModalBody>\n        <ModalFooter>\n\n        </ModalFooter>\n      </Modal>\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}